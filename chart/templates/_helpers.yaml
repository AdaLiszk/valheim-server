{{- define "server.selectorLabels" -}}
cwl.network/type: Game
cwl.network/game: Valheim
cwl.network/name: {{ .Values.server.name }}
{{- end }}

{{- define "server.labels" -}}
{{ include "server.selectorLabels" . }}
{{- if .Chart.AppVersion }}
app.kubernetes.io/version: {{ .Chart.AppVersion | quote }}
{{- end }}
app.kubernetes.io/managed-by: {{ .Release.Service }}
{{- end }}

{{- define "server_name" -}}
valheim-{{ .Values.server.name | lower }}-server
{{- end }}

{{- define "mods_config_name" -}}
{{ .Values.server.name | lower | default "valheim" }}-mod-configs
{{- end }}

{{- define "server_config_name" -}}
{{ .Values.server.name | lower | default "valheim" }}-server-configs
{{- end }}

{{- define "pvc_data_name" -}}
{{ .Values.server.name | lower | default "valheim" }}-{{ .Values.server.world | lower | default "default" }}-{{ .Values.data.storageClass | default "standard" }}
{{- end }}

{{- define "pvc_backups_name" -}}
{{ .Values.server.name | lower | default "valheim" }}-backups-{{ .Values.logs.storageClass | default "standard" }}
{{- end }}

{{- define "pvc_logs_name" -}}
{{ .Values.server.name | lower | default "valheim" }}-logs-{{ .Values.logs.storageClass | default "standard" }}
{{- end }}
